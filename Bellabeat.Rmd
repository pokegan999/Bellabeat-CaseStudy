---
title: "Google Data Analytics Capstone Study"
output:
  html_document:
    df_print: paged
date: '2022-07-20'
editor_options:
  markdown:
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Data Analytics Case Study

## How can a Wellness Technology Company Play it Smart?

### Scenario

I am a junior data analyst working on the marketing analyst team at
Bellabeat, a high-tech manufacturer of health-focused products for
women. Bellabeat is a successful small company, but they have the
potential to become a larger player in the global smart device market.
Urška Sršen, co-founder and Chief Creative Officer of Bellabeat,
believes that analysing smart device fitness data could help unlock new
growth opportunities for the company. I have been asked to focus on one
of Bellabeat's products and analyse smart device data to gain insight
into how consumers are using their smart devices. The insights that I
discover will then help guide marketing strategy for the company. I will
present my analysis to the Bellabeat executive team along with my
high-level recommendations for Bellabeat's marketing strategy.

### Bellabeat Products

Bellabeat App: The Bellabeat app provides users with health data related
to their activity, sleep, stress, menstrual cycle, and mindfulness
habits. This data can help users better understand their current habits
and make healthy decisions. The Bellabeat app connects to their line of
smart wellness products.

Leaf: : Bellabeat's classic wellness tracker can be worn as a bracelet,
necklace, or clip. The Leaf tracker connects to the Bellabeat app to
track activity, sleep, and stress.

Time: : This wellness watch combines the timeless look of a classic
timepiece with smart technology to track user activity, sleep, and
stress. The Time watch connects to the Bellabeat app to provide you with
insights into your daily wellness.

Spring: This is a water bottle that tracks daily water intake using
smart technology to ensure that you are appropriately hydrated
throughout the day. The Spring bottle connects to the Bellabeat app to
track your hydration levels.

Bellabeat Membership: Bellabeat also offers a subscription-based
membership program for users. Membership gives users 24/7 access to
fully personalized guidance on nutrition, activity, sleep, health and
beauty, and mindfulness based on their lifestyle and goals.

## 1. Ask

The business task is to analyse smart device usage data of non-Bellabeat
smart devices to gain insight into relevant (successful and
unsuccessful) consumer trends within the global smart device market, as
well as to discover how to use these trends to apply to Bellabeat
customers and to influence future Bellabeat marketing strategies. This
is done by applying said insights to the Bellabeat App and to future
products in order to maximise profits and growth for the company and to
capitilse on Bellabeat's rapidly growing consumer base in the smart
device/tech-wellness space. Urška Sršen, Sando Mur (Bellabeat's other
co-founder and key member of the Bellabeat executive team), the
Bellabeat executive team, the Bellabeat Marketing Analytics Team, and
the Bellabeat investors are the key stakeholders that need to be
considered in my data analysis and decisions.

## 2. Prepare

The Data used contains a total of 18 data sets provided by FitBit
Fitness Tracker Data (CC0: Public Domain, dataset made available through
Mobius). They are individually stored as csv. files but the three we
will be working on is the daily activity dataset, the weight dataset and
the daily sleep set. These three files contain relevant data that are
also tracked by the Bellabeat products. This will provide me with the
most relevant insights to complete the business task.

### Issues wit the Data Credibility

I will be using ROCC to state the credibility of this database NOT
reliable: This data only contains 30 selected individuals, which is not
a representative sample bias of the 30+ million FitBit users. This would
equate to a 95%/90% confidence level with a 18%/15% margin of error,
respectively, which is not good. It should be noted, though, that
according the the Central Limit Theorem (CLT), a sample of 30 is the
smallest sample size for which the CLT is still valid.Moreover, all of
the data was only obtained over the course of two months, which is not a
long enough time to deduce accurate and reliable trends - I would prefer
to have at least a year's worth of data to find meaningful trends and
insights. NOT Original: The database was generated by respondents to a
distributed survey via Amazon Mechanical Turk. It would have been better
if the data was supplied directly by FitBit. NOT comprehensive: Most of
the data contains null values and is not completely filled by the users.
Some datasets contain 30 users or 8 users. The data does not remain
consistent and is therefore unuseable. I would prefer to use data from
the FitBit company itself but this is the data given for this case
study.\
NOT current: The Data was obtained 6 years ago. Cited but NOT credibl:
The data came fro Amazon Mechanical Turk.

Overall, the conclusions made from this analysis should be taken
seriously, as the data credibility and data foundation are lacking.
However, the general insights could still prove to be useful by
highlighting possible shortcomings in FitBit's data tracking (by FitBit
itself or by the individuals), which Bellabeat can then improve on
through innovative features exclusive to the Bellabeat product line.

### Loading Packages

Below are the packages that will be used in this case study or will be
used for any other functions:

```{r Loading Packages}
library(tidyverse)
library(lubridate) 
library(ggplot2) 
library(readr)
library(tidyr) 
library(dplyr) 
library(skimr) 
library(janitor)
library(scales)
```

### Importing Data Sets

Import these three data sets.

```{r}
activity_daily <-read_csv("Bellabeat/dailyActivity_merged.csv") 
weight <- read_csv("Bellabeat/weightLogInfo_merged.csv")
sleep_daily <-read_csv("Bellabeat/sleepDay_merged.csv")
```

## 3. Process

Now it is time to verify and clean the data in order to prepare it for
analysis.

```{r}
colnames(activity_daily)
colnames(weight) 
colnames(sleep_daily)
```

The first thing I noticed with this preview ist that the dataset only
contains data for one month rather than two which raises the credibilty
of this data. The second thing I noticed is the inconsistency of logging
the user data. And several people did not participate in any activity
for the whole month. This makes a the business task harder to
accomplish.

```{r}
activity_daily_new <- activity_daily %>%  
  filter(TotalSteps !=0)
view(activity_daily_new)
```

Removing the zero steps will definitely help with the analysis. However
there are several occurences where the calories burned were low or the
number of steps were low. I have decided to keep them in the data set
because these outliers could convey that the user was ill or was resting
for a day.

For the weight and sleep data sets, I found that it would be best to
separate the datatime column into two columns for Date and Time. There
is also an inconsistency in the unique Id's present in each data set.

```{r}
weight_new <- weight %>% 
  separate(Date, c("Date", "Time"), " ") 
sleep_daily_new <- sleep_daily %>%
  separate(SleepDay, c("Date", "Time"), " ")

n_distinct(activity_daily_new$Id) 
n_distinct(weight_new$Id) 
n_distinct(sleep_daily_new$Id)
nrow(activity_daily_new) 
nrow(weight_new) 
nrow(sleep_daily_new) 
nrow(unique(activity_daily_new))
nrow(unique(weight_new)) 
nrow(unique(sleep_daily_new))

```

Interestingly, not everyone involved in this survey provided tracking
data for each data set. Only eight people entered their weight (where
only two people logged/tracked most of the data), and only 24 people
entered their sleep data. Also, there are 33 people recorded in the
daily activity data, despite the data citation saying there are 30
people in the sample size. This further questions the credibility of the
data as it seems to become even less comprehensive/reliable and more
dirty the more I look into it. I might not be able to cross-analyse the
data as much as I would like due to the number of incomplete and
inconsistently tracked data. Due to the incompleteness of those data
sets, I may just focus on the 'activity_daily' data set for a more
focused analysis and then include some general recommendations for
improvement on data logging/tracking consistencies for recording weight
and sleep.

The fourth thing I noticed is that there could be some duplicated rows
in some of the data sets. I will confirm this and delete the duplicated
rows for cleaner data.

```{r}
sleep_daily_new_v2 <-unique(sleep_daily_new)
```

Its always apart of the process to check for duplicate data

## 4.Analyse

Now the data is clean and is ready to be analyzed. In this step, I will
identify trends and relationships. First lets obtain summaries for each
data set.

```{r}
skim_without_charts(activity_daily_new) 
skim_without_charts(weight_new)
skim_without_charts(sleep_daily_new_v2)

```

This is a nice overview of all the datasets and its important to double
check if the data is clean. Now Im going to condense the data sets for
my analysis.

```{r}
activity_daily_final <- activity_daily_new %>% 
  select(Id, ActivityDate, TotalSteps, VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes, SedentaryMinutes, Calories) %>% 
  rename(Date = ActivityDate)

weight_final <- weight_new %>% 
  select(Id, Date, BMI, WeightPounds, IsManualReport)

sleep_daily_final <- sleep_daily_new_v2 %>% 
  select(Id, Date, TotalMinutesAsleep, TotalTimeInBed)
```

Now I can view the summary of the data that I want to analyze.

```{r}
summary(activity_daily_final) 
summary(weight_final)
summary(sleep_daily_final)
```

### Trends

The Average Total Steps for an Individual is 8319. The average Very
Active minutes was 23.02 minutes, for Fairly Active was 14.78 minutes,
for lightly Active was 210 minutes and for Sedentary was 955.8. The
median BMI was 24.39. The average minutes asleep was 419.2 minutes.
These values may be skewed as previously stated that there were outliers
in the data and the data is not the most credible.

### Conclusions

From Trends According to a joint research project by the National
Institute on Aging and the Centers for Disease Control and Prevention,
the ideal daily number of Total Steps one should achieve should be
between 8,000- 10,000. In conclusion, from this data we can see that the
users were able to hit the lower spectrum of needed steps. Since the
median BMI was 24.39, this puts the majority of the individuals as
overweight according to the World Health Organization. One reason for
this might be the activity levels. The individuals spent an average of
955.8 minutes per day being sedentary, which is approximately 16 hours
per day. This fact from the data might be skewed since the logging of
the data was not consistent. Furthermore, the average person is getting
just under the minimum recommended hours of sleep, according to the
National Sleep Foundation which states that the average should have
about 7-8 hours of sleep.

## 5.Share

Now to present my insights through some visualizations.

```{r}
VeryActiveMin <-sum(activity_daily_final$VeryActiveMinutes) 
FairlyActiveMin <- sum(activity_daily_final$FairlyActiveMinutes)
LightlyActiveMin <- sum(activity_daily_final$LightlyActiveMinutes)
SedentaryMin <- sum(activity_daily_final$SedentaryMinutes)
TotalMin <- VeryActiveMin + FairlyActiveMin + LightlyActiveMin +SedentaryMin 
slices <- c(VeryActiveMin, FairlyActiveMin, LightlyActiveMin,SedentaryMin) 
lbls <- c("VeryActive", "FairlyActive", "LightlyActive", "Sedentary") 
pct <- round(slices/sum(slices)*100)
lbls <- paste(lbls,pct) 
lbls <-paste(lbls, "%", sep="") 
pie(slices, labels = lbls, col = rainbow(length(lbls)), main= "Percentage of Activity in Minutes")
```

It is visually seen that the individuals are not active enough, as 79%
of the activity time for an entire month was spent being sedentary for
the average user. For a fitness tracking watch, this is not a good
observation as people purchase fitness services in order to be mroe
active.

```{r}
ggplot(data=activity_daily_final) + geom_point(mapping =aes(x=TotalSteps, y= Calories), color = "blue") + geom_smooth(mapping = aes(x=TotalSteps, y= Calories)) + labs(title = "Relationship between Total Steps and Calories Burned", x="Total Steps", y = "Calories Burned")
```

Although this relationship should be obvious, the more steps an
individual takes, the more calories are burned. And of course, the more
active a person is, the more steps they will take, which then means more
calories are burned. The average person from this data set is only
reaching about 8000 Total Steps for the day, which equates to just under
2500 calories burned for the day.

Without more information regarding the person's diet,age, sex, and
height, it would be impossible to say exactly how many calories the
person needs to burn to lose weight at a healthy rate.

```{r}
combined_data <- merge(activity_daily_final,sleep_daily_final, by ="Id") 
ggplot(data=combined_data) + geom_point(mapping=aes(x= TotalMinutesAsleep, y=VeryActiveMinutes, color = "VeryActiveMinutes")) + geom_smooth(mapping=aes(x= TotalMinutesAsleep, y=VeryActiveMinutes, regLineColor="blue")) + labs(title = "Relationship between Activity and Total Minutes", x = "Total Minutes Asleep", y= "Minutes of Activity")
```

```{r}
ggplot(data=combined_data) + geom_point(mapping=aes(x= TotalMinutesAsleep, y=FairlyActiveMinutes, color = "FairlyActiveMinutes")) + geom_smooth(mapping=aes(x = TotalMinutesAsleep, y=FairlyActiveMinutes, regLineColor="blue")) + labs(title = "Relationship between Activity and Total Minutes", x = "Total Minutes Asleep", y= "Minutes of Activity")
```

```{r}
ggplot(data=combined_data) + geom_point(mapping=aes(x=TotalMinutesAsleep, y=LightlyActiveMinutes, color = "LightlyActiveMinutes")) + geom_smooth(mapping=aes(x=TotalMinutesAsleep, y=LightlyActiveMinutes, regLineColor="blue")) +labs(title = "Relationship between Activity and Total Minutes", x = "Total Minutes Asleep", y= "Minutes of Activity")
```

```{r}
ggplot(data=combined_data) + geom_point(mapping=aes(x=TotalMinutesAsleep, y=SedentaryMinutes, color = "SedentaryMinutes")) + geom_smooth(mapping=aes(x= TotalMinutesAsleep, y=SedentaryMinutes, regLineColor="blue")) + labs(title = "Relationship between Activity and Total Minutes", x = "Total Minutes Asleep", y= "Minutes of Activity")
```

These graphs show the relationship between total minutes asleep against
each activity level. I needed to observe if there was a relationship
between higher actiivity levels and sleep and another observation was if
the watch logs sleep as sedentary. As you can see in the sedentary
group, regardless of the quality of sleep, the average person was still
sedentary.

## 6. Act

### Business Task

The business task is to analyse smart device usage dataof non-Bellabeat
smart devices to gain insight into relevant (successful and
unsuccessful) consumer trends within the global smart device market, as
well as to discover how to use these trends to apply to Bellabeat
customers and to influence future Bellabeat marketing strategies. This
is done by applying said insights to the Bellabeat App and to future
products in order to maximise profits and growth for the company and to
capitilse on Bellabeat's rapidly growing consumer base in the smart
device/tech-wellness space. #Recommendations Bellabeat product should
have a built in factor that includes the individual's sex, age, weight,
height and diet. This calculator should track macro nutrients and
calories and how much of a caloric deficit should that individual be in
each day in order to lose weight in a healthy manner. Bellabeat products
should be able to track sleep according to the users app settings.
